(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{105:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__1cIUY",containerUser:"Users_containerUser__39diU"}},106:function(e,t,n){e.exports={preloader:"loader_preloader__3y2BQ",spinner:"loader_spinner__1wFy7",spin:"loader_spin__3h6Jt"}},143:function(e,t,n){e.exports={footer:"Footer_footer__1j6Nq"}},19:function(e,t,n){e.exports={descriptionBlock:"Profileinfo_descriptionBlock__3peoe",fileUpload:"Profileinfo_fileUpload__1nVx7",upload:"Profileinfo_upload__3TGLL","custom-file-upload":"Profileinfo_custom-file-upload__gIQMH",contact:"Profileinfo_contact__3HpiO",formSummaryError:"Profileinfo_formSummaryError__3-Bbf",status:"Profileinfo_status__1AUud",profileData:"Profileinfo_profileData__2F_Wr",profileDataBlock:"Profileinfo_profileDataBlock__2K3Z2",buttonEdit:"Profileinfo_buttonEdit__EJ8xB",containerProfileinfo:"Profileinfo_containerProfileinfo__zqxVb"}},23:function(e,t,n){e.exports={formControl:"formsControls_formControl__1133L",error:"formsControls_error__2n6Si",formSummaryError:"formsControls_formSummaryError__2TfdZ",formContainer:"formsControls_formContainer__qUOXU",formCheck:"formsControls_formCheck__1Cu1M",checkbox:"formsControls_checkbox__t2cvH",buttonLoginBlock:"formsControls_buttonLoginBlock__2G2Co",fieldLogin:"formsControls_fieldLogin__ZV6ee",buttonLogin:"formsControls_buttonLogin__1NFaQ"}},24:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3NFzy",dialogsItem:"Dialogs_dialogsItem__p_qud",messages:"Dialogs_messages__10HHm",dialog:"Dialogs_dialog__2ZkLr",activeLink:"Dialogs_activeLink__1kwmu",fieldArea:"Dialogs_fieldArea__2n5IM",blockButton:"Dialogs_blockButton__3fQ3s",button:"Dialogs_button__ut5hY"}},254:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(10),r=n(39),o=n.n(r),c=n(58),i=n(6),l=n(34),u=n(139),d=n.n(u).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"bb182f39-4bf9-45cf-84c7-2b70ac3038c7"}}),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return d.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},b=function(e){return d.post("follow/".concat(e))},p=function(e){return d.delete("follow/".concat(e))},f=function(){return d.get("auth/me")},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d.post("auth/login",{email:e,password:t,rememberMe:n,captcha:s})},O=function(){return d.delete("auth/login")},m=function(e){return d.get("profile/".concat(e))},g=function(e){return d.get("profile/status/".concat(e))},x=function(e){return d.put("profile/status/",{status:e})},v=function(e){var t=new FormData;return t.append("image",e),d.put("profile/photo/",t)},_=function(e){return d.put("profile",e)},P=function(){return d.get("security/get-captcha-url")},C="SET_USER_DATA",N="GET_CAPTCHA_URL",w={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},k=function(e,t,n,s){return{type:C,payload:{email:e,id:t,login:n,isAuth:s}}},y=function(e){return{type:N,payload:{captchaUrl:e}}},S=function(){return function(){var e=Object(c.a)(o.a.mark((function e(t){var n,s,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:0==(n=e.sent).data.resultCode&&(s=n.data.data,a=s.email,r=s.id,c=s.login,t(k(a,r,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(c.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:n=e.sent,s=n.data.url,t(y(s));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case N:return Object(i.a)(Object(i.a)({},e),t.payload);default:return e}},E=n(51),L="SEND-MESSAGE",U={dialogsData:[{name:"Dimych",id:"1"},{name:"Valera",id:"2"},{name:"Sveta",id:"3"},{name:"Andrey",id:"4"},{name:"Viktor",id:"5"},{name:"Sasha",id:"6"}],messagesData:[{message:"\u0414\u0430\u0440\u043e\u0432\u043a\u0438",id:"1"},{message:"\u0425\u043e\u0439",id:"2"},{message:"\u0419\u043e\u0443",id:"3"}]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var n=t.newMessageBody;return Object(i.a)(Object(i.a)({},e),{},{messagesData:[].concat(Object(E.a)(e.messagesData),[{message:n,id:"4"}])});default:return e}},I="ADD-POST",T="SET_USER_PROFILE",F="SET_STATUS",M="DELETE_POST",z="SAVE_PHOTO_SUCCESS",H={posts:[{id:1,message:"\u041f\u0440\u0438\u0432\u0435\u0442 \u043c\u0438\u0440!",likesCount:10},{id:2,message:"\u041a\u0430\u043a \u0434\u0435\u043b\u0430?",likesCount:17}],profile:null,status:""},R=function(e){return{type:F,status:e}},V=function(e){return function(t){m(e).then((function(e){var n;t((n=e.data,{type:T,profile:n}))}))}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:var n={id:6,message:t.newPostText,likesCount:5};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(E.a)(e.posts),[n]),newPostText:" "});case T:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case F:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case M:case z:return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})});default:return e}},J={},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return e},Z="FOLLOW",Q="UNFOLLOW",W="SET_USERS",X="SET_CURRENT_PAGE",K="SET_TOTAL_USERS_COUNT",Y="TOOGLE_IS_FETCHING",$="TOOGLE_IS_FOLLOWING_PROGRESS",ee={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},te=function(e){return{type:Y,isFetching:e}},ne=function(e,t){return{type:$,isFetching:e,userId:t}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case Q:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case W:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case X:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case K:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.count});case Y:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case $:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(E.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},ae=n(140),re=n(138),oe="INITIALIZED_SUCCESS",ce={initialized:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(i.a)(Object(i.a)({},e),{},{initialized:!0});default:return e}},le=Object(a.c)({profilePage:G,dialogsPage:A,sidebarPage:q,usersPage:se,auth:B,form:re.a,app:ie}),ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,de=Object(a.e)(le,ue(Object(a.a)(ae.a)));window._store_=de;var je=de,be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,307)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),r(e),o(e)}))},pe=n(1),fe=n.n(pe),he=n(70),Oe=n.n(he),me=n(29),ge=n(30),xe=n(32),ve=n(31),_e=(n(254),n(143)),Pe=n.n(_e),Ce=function(){return Object(s.jsx)("footer",{className:Pe.a.footer})},Ne=n(17),we=n(33),ke=n.n(we),ye=function(){return Object(s.jsxs)("nav",{className:ke.a.nav,children:[Object(s.jsx)("div",{className:ke.a.item,children:Object(s.jsx)(Ne.b,{to:"/profile",activeClassName:ke.a.activeLink,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(s.jsx)("div",{className:ke.a.item,children:Object(s.jsx)(Ne.b,{to:"/dialogs",activeClassName:ke.a.activeLink,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"})}),Object(s.jsx)("div",{className:ke.a.item,children:Object(s.jsx)(Ne.b,{to:"/main",activeClassName:ke.a.activeLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(s.jsx)("div",{className:ke.a.item,children:Object(s.jsx)(Ne.b,{to:"/users",activeClassName:ke.a.activeLink,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})})]})},Se=n(11),De=n(15),Be=function(e){return{isAuth:e.auth.isAuth}},Ee=n(136),Le=n(137),Ue=function(e){if(!e)return"Field is required"},Ae=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},Ie=n(76),Te=n(23),Fe=n.n(Te),Me=function(e){var t=e.input,n=e.meta,a=Object(Ie.a)(e,["input","meta"]),r=n.touched&&n.error;return Object(s.jsxs)("div",{className:Fe.a.formControl+" "+(r?Fe.a.error:""),children:[Object(s.jsx)("div",{children:fe.a.createElement(a.el,Object(i.a)(Object(i.a)({},t),a))}),r&&Object(s.jsx)("span",{children:n.error})]})},ze=function(e){return Object(s.jsx)(Me,Object(i.a)({el:"textarea"},e))},He=function(e){return Object(s.jsx)(Me,Object(i.a)({el:"input"},e))},Re=n(24),Ve=n.n(Re),Ge=function(e){var t="/dialogs/"+e.id;return Object(s.jsx)("div",{className:Ve.a.dialog,children:Object(s.jsxs)(Ne.b,{to:t,activeClassName:Ve.a.activeLink,children:[e.name," "]})})},Je=function(e){return Object(s.jsx)("div",{className:Ve.a.dialog,children:e.message})},qe=Ae(50),Ze=Object(Le.a)({form:"dialogAddMessageForm"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{className:Ve.a.fieldArea,children:Object(s.jsx)(Ee.a,{name:"newMessageBody",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",component:ze,validate:[Ue,qe]})}),Object(s.jsx)("div",{className:Ve.a.blockButton,children:Object(s.jsx)("button",{className:Ve.a.button,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),Qe=function(e){var t=e.dialogsPage,n=t.dialogsData.map((function(e){return Object(s.jsx)(Ge,{name:e.name,id:e.id},e.id)})),a=t.messagesData.map((function(e){return Object(s.jsx)(Je,{message:e.message,id:e.id},e.id)}));return e.isAuth?Object(s.jsxs)("div",{className:Ve.a.dialogs,children:[Object(s.jsx)("div",{className:Ve.a.dialogsItem,children:n}),Object(s.jsx)("div",{className:Ve.a.messages,children:Object(s.jsxs)("div",{children:[a," "]})}),Object(s.jsx)(Ze,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]}):Object(s.jsx)(Se.a,{to:"/login"})},We=Object(a.d)(Object(De.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:L,newMessageBody:e}}(t))}}})),(function(e){var t=function(t){Object(xe.a)(a,t);var n=Object(ve.a)(a);function a(){return Object(me.a)(this,a),n.apply(this,arguments)}return Object(ge.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(s.jsx)(e,Object(i.a)({},this.props)):Object(s.jsx)(Se.a,{to:"/login"})}}]),a}(fe.a.Component);return Object(De.b)(Be)(t)}))(Qe),Xe=n(72),Ke=n(43),Ye=n(78),$e=n.n(Ye),et=n(104),tt=n.n(et),nt=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.portionSize,c=void 0===o?10:o,i=Math.ceil(t/n),l=[],u=1;u<=i;u++)l.push(u);var d=Math.ceil(i/c),j=Object(pe.useState)(1),b=Object(Ke.a)(j,2),p=b[0],f=b[1],h=(p-1)*c+1,O=p*c;return Object(s.jsxs)("div",{className:tt()($e.a.paginator),children:[p>1&&Object(s.jsx)("button",{onClick:function(){f(p-1)},children:"PREV"}),l.filter((function(e){return e>=h&&e<=O})).map((function(e){return Object(s.jsx)("span",{className:tt()(Object(Xe.a)({},$e.a.selectedPage,a===e),$e.a.pageNumber),onClick:function(t){r(e)},children:e},e)})),d>p&&Object(s.jsx)("button",{onClick:function(){f(p+1)},children:"NEXT"})]})},st=n(105),at=n.n(st),rt=n.p+"static/media/ava.5e39b5b4.png",ot=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,r=e.follow;return Object(s.jsxs)("div",{className:at.a.containerUser,children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:Object(s.jsx)(Ne.b,{to:"/profile/"+t.id,children:Object(s.jsx)("img",{src:null!=t.photos.small?t.photos.small:rt,className:at.a.userPhoto,alt:""})})}),Object(s.jsx)("div",{children:t.followed?Object(s.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(s.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(s.jsxs)("span",{children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:t.name}),Object(s.jsx)("div",{children:t.status})]}),Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:"user.location.country"}),Object(s.jsx)("div",{children:"user.location.city"})]})]})]})},ct=function(e){var t=e.currentPage,n=e.onPageChanged,a=e.totalUsersCount,r=e.pageSize,o=e.users,c=Object(Ie.a)(e,["currentPage","onPageChanged","totalUsersCount","pageSize","users"]);return Object(s.jsxs)("div",{children:[Object(s.jsx)(nt,{currentPage:t,onPageChanged:n,pageSize:r,totalItemsCount:a}),Object(s.jsx)("div",{children:o.map((function(e){return Object(s.jsx)(ot,{user:e,followingInProgress:c.followingInProgress,unfollow:c.unfollow,follow:c.follow},e.id)}))})]})},it=n(106),lt=n.n(it),ut=function(){return Object(s.jsx)("div",{className:lt.a.preloader,children:Object(s.jsx)("div",{className:lt.a.spinner})})},dt=n(144),jt=Object(dt.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),bt=function(e){return e.usersPage.pageSize},pt=function(e){return e.usersPage.totalUsersCount},ft=function(e){return e.usersPage.currentPage},ht=function(e){return e.usersPage.isFetching},Ot=function(e){return e.usersPage.followingInProgress},mt=function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(me.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){var n=e.props.pageSize;e.props.requestUsers(t,n),e.props.setCurrentPage(t)},e}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.isFetching?Object(s.jsx)(ut,{}):null,Object(s.jsx)(ct,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(fe.a.Component),gt=Object(a.d)(Object(De.b)((function(e){return{users:jt(e),pageSize:bt(e),totalUsersCount:pt(e),currentPage:ft(e),isFetching:ht(e),followingInProgress:Ot(e)}}),{follow:function(e){return function(t){t(ne(!0,e)),b(e).then((function(n){0==n.data.resultCode&&t(function(e){return{type:Z,userId:e}}(e)),t(ne(!1,e))}))}},unfollow:function(e){return function(t){t(ne(!0,e)),p(e).then((function(n){0==n.data.resultCode&&t(function(e){return{type:Q,userId:e}}(e)),t(ne(!1,e))}))}},setCurrentPage:function(e){return{type:X,currentPage:e}},toogleFollowingProgress:ne,requestUsers:function(e,t){return function(n){n(te(!0)),j(e,t).then((function(e){var t,s;n(te(!1)),n((t=e.items,{type:W,users:t})),n((s=e.totalCount,{type:K,count:s}))}))}}}))(mt),xt=n(79),vt=n.n(xt),_t=n(80),Pt=n.n(_t),Ct=function(e){return Object(s.jsxs)("div",{className:Pt.a.post,children:[Object(s.jsx)("img",{src:"https://pristor.ru/wp-content/uploads/2019/09/%D0%90%D0%BD%D0%B8%D0%BC%D0%B5-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B0%D1%80%D0%BD%D0%B5%D0%B9-%D0%B0%D0%B2%D0%B0-%D0%BB%D1%83%D1%87%D1%88%D0%B8%D0%B5-%D1%84%D0%BE%D1%82%D0%BA%D0%B8-24.jpg",alt:""}),Object(s.jsxs)("span",{className:Pt.a.postText,children:[" ",e.message," "]}),Object(s.jsxs)("div",{className:Pt.a.postLike,children:["like ",e.likesCount]})]})},Nt=Ae(10),wt=Object(Le.a)({form:"profileAddNewPostForm"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,className:vt.a.form,children:[Object(s.jsx)(Ee.a,{name:"newPostText",component:ze,cols:"30",rows:"2",validate:[Ue,Nt],placeholder:"Post message"}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})})]})})),kt=function(e){var t=e.posts.map((function(e){return Object(s.jsx)(Ct,{message:e.message,id:e.id,likesCount:e.likesCount},e.id)}));return Object(s.jsxs)("div",{className:vt.a.myposts,children:[Object(s.jsx)("h3",{children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"}),Object(s.jsx)(wt,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(s.jsx)("div",{className:vt.a.posts,children:t})]})},yt=Object(De.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:I,newPostText:e}}(t))}}}))(kt),St=n(75),Dt=n.n(St),Bt=n(19),Et=n.n(Bt),Lt=Object(Le.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:Et.a.buttonEdit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),a&&Object(s.jsx)("div",{className:Et.a.formSummaryError,children:a}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Full name"}),":",Object(s.jsx)(Ee.a,{type:"text",name:"fullName",placeholder:"Full name",component:He,validate:[Ue]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Looking for a job"}),":",Object(s.jsx)(Ee.a,{type:"checkbox",name:"lookingForAJob",component:He})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"My professional skills"}),":",Object(s.jsx)(Ee.a,{type:"text",name:"lookingForAJobDescription",placeholder:"My professional skills",component:ze})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"About me"}),":",Object(s.jsx)(Ee.a,{type:"text",name:"aboutMe",placeholder:"About me",component:ze})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Contacts"}),":",Object.keys(n.contacts).map((function(e){return Object(s.jsxs)("div",{className:Et.a.contact,children:[Object(s.jsx)("b",{children:e}),":",Object(s.jsx)(Ee.a,{type:"text",name:"contacts."+e,placeholder:e,component:He})]},e)}))]})]})})),Ut=function(e){var t=Object(pe.useState)(!1),n=Object(Ke.a)(t,2),a=n[0],r=n[1],o=Object(pe.useState)(e.status),c=Object(Ke.a)(o,2),i=c[0],l=c[1];Object(pe.useEffect)((function(){l(e.status)}),[e.status]);return Object(s.jsxs)("div",{children:[!a&&Object(s.jsx)("div",{className:Dt.a.statusBlock,children:Object(s.jsx)("div",{onDoubleClick:function(){r(!0)},children:e.status||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),a&&Object(s.jsx)("div",{children:Object(s.jsx)("input",{onBlur:function(){r(!1),e.updateStatus(i)},autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},value:i})})]})},At=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return Object(s.jsxs)("div",{className:Et.a.profileDataBlock,children:[n&&Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:Et.a.buttonEdit,onClick:a,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Contacts"}),":",Object.keys(t.contacts).map((function(e){return Object(s.jsx)(It,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},It=function(e){var t=e.contactTitle,n=e.contactValue;return Object(s.jsxs)("div",{className:Et.a.contact,children:[Object(s.jsx)("b",{children:t}),": ",n]})},Tt=function(e){var t=e.profile,n=e.status,a=e.updateStatus,r=e.isOwner,o=e.savePhoto,c=e.saveProfile,i=Object(pe.useState)(!1),l=Object(Ke.a)(i,2),u=l[0],d=l[1];if(!t)return Object(s.jsx)(ut,{});return Object(s.jsxs)("div",{className:Et.a.containerProfileinfo,children:[Object(s.jsxs)("div",{className:Et.a.descriptionBlock,children:[Object(s.jsx)("img",{src:t.photos.large||"https://i.pinimg.com/originals/8a/eb/d8/8aebd875fbddd22bf3971c3a7159bdc7.png"}),r&&Object(s.jsxs)("div",{className:Et.a.fileUpload,children:[Object(s.jsx)("input",{type:"file",className:Et.a.upload,onChange:function(e){e.target.files.length&&o(e.target.files[0])}}),Object(s.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})]}),Object(s.jsx)("div",{className:Et.a.profileData,children:u?Object(s.jsx)(Lt,{initialValues:t,profile:t,onSubmit:function(e){c(e).then((function(){d(!1)}))}}):Object(s.jsx)(At,{goToEditMode:function(){d(!0)},profile:t,isOwner:r})}),Object(s.jsx)("div",{className:Et.a.status,children:Object(s.jsx)(Ut,{status:n,updateStatus:a})})]})},Ft=function(e){var t=e.profile,n=e.status,a=e.updateStatus,r=e.isOwner,o=e.savePhoto,c=e.saveProfile;return Object(s.jsxs)("div",{className:Dt.a.content,children:[Object(s.jsx)(Tt,{isOwner:r,profile:t,status:n,updateStatus:a,savePhoto:o,saveProfile:c}),Object(s.jsx)(yt,{})]})},Mt=function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(){return Object(me.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)(Ft,Object(i.a)(Object(i.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),n}(fe.a.Component),zt=Object(a.d)(Object(De.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:V,getStatus:function(e){return function(t){g(e).then((function(e){t(R(e.data))}))}},updateStatus:function(e){return function(t){x(e).then((function(n){0===n.data.resultCode&&t(R(e))}))}},savePhoto:function(e){return function(t){v(e).then((function(e){var n;0===e.data.resultCode&&t((n=e.data.data.photos,{type:z,photos:n}))}))}},saveProfile:function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n,s){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s().auth.id,t.next=3,_(e);case 3:if(0!==(r=t.sent).data.resultCode){t.next=8;break}n(V(a)),t.next=10;break;case 8:return n(Object(l.a)("edit-profile",{_error:r.data.messages[0]})),t.abrupt("return",Promise.reject(r.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Se.g)(Mt),Ht=n(45),Rt=n.n(Ht),Vt=function(e){return Object(s.jsxs)("header",{className:Rt.a.header,children:[Object(s.jsx)("div",{className:Rt.a.logoBlock,children:Object(s.jsx)("img",{src:"https://st2.depositphotos.com/4398873/7993/v/950/depositphotos_79934552-stock-illustration-retro-cinema-logo.jpg",alt:""})}),Object(s.jsx)("h1",{className:Rt.a.headerH1,children:"\u041a\u0418\u041d\u0415\u041c\u0410\u0422\u041e\u0413\u0420\u0410\u0424\u0418\u041a"}),Object(s.jsx)("div",{className:Rt.a.loginBlock,children:e.isAuth?Object(s.jsxs)("div",{children:[e.login," ",Object(s.jsx)("button",{className:Rt.a.buttonLogin,onClick:e.logout,children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(s.jsxs)(Ne.b,{to:"/login",children:[Object(s.jsx)("button",{className:Rt.a.buttonLogin,children:"\u0412\u043e\u0439\u0442\u0438"})," "]})})]})},Gt=function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(){return Object(me.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){return Object(s.jsx)(Vt,Object(i.a)({},this.props))}}]),n}(fe.a.Component),Jt=Object(De.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){O().then((function(t){0===t.data.resultCode&&e(k(null,null,null,!1))}))}}})(Gt),qt=Object(Le.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return Object(s.jsxs)("form",{onSubmit:t,className:Fe.a.formContainer,children:[Object(s.jsx)("div",{className:Fe.a.fieldLogin,children:Object(s.jsx)(Ee.a,{type:"text",name:"email",placeholder:"Email",component:He,validate:[Ue]})}),Object(s.jsx)("div",{className:Fe.a.fieldPass,children:Object(s.jsx)(Ee.a,{type:"password",name:"password",placeholder:"Password",component:He,validate:[Ue]})}),Object(s.jsxs)("div",{className:Fe.a.formCheck,children:[Object(s.jsxs)("div",{className:Fe.a.checkbox,children:[" ",Object(s.jsx)(Ee.a,{type:"checkbox",name:"rememberMe",component:He})," "]}),Object(s.jsx)("div",{className:Fe.a.checkboxText,children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]}),a&&Object(s.jsx)("img",{src:a}),a&&Object(s.jsx)(Ee.a,{type:"text",name:"captcha",placeholder:"Symbols from image",component:He,validate:[Ue]}),Object(s.jsxs)("div",{className:Fe.a.buttonLoginBlock,children:[n&&Object(s.jsx)("div",{className:Fe.a.formSummaryError,children:n}),Object(s.jsx)("button",{className:Fe.a.buttonLogin,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})),Zt=Object(De.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,s){return function(a){h(e,t,n,s).then((function(e){if(0===e.data.resultCode)a(S());else{10===e.data.resultCode&&a(D());var t=e.data.messages.length>0?e.data.messages[0]:"Some Error";a(Object(l.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object(s.jsx)(Se.a,{to:"/profile"}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"LOGIN"}),Object(s.jsx)(qt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})]})})),Qt=n(305),Wt=n(301),Xt=n(302),Kt=n(303),Yt=n(306),$t=n(304),en=n.p+"static/media/vlcsnap-2021-02-24-00h31m29s139.7c501eac.png",tn=n.p+"static/media/vlcsnap-2021-02-24-00h36m21s939.4a9636ce.png",nn=n.p+"static/media/vlcsnap-2021-02-24-01h08m42s083.6218f8fe.png",sn=n.p+"static/media/vlcsnap-2021-02-24-01h14m01s999.5545eede.png",an=n.p+"static/media/vlcsnap-2021-05-12-13h25m15s983.7db0dc7b.png",rn=n.p+"static/media/vlcsnap-2021-05-12-13h29m40s652.186b3482.png",on=n.p+"static/media/vlcsnap-2021-05-12-13h48m39s505.2e962773.png";n(296),n(297);Qt.a.use([Wt.a,Xt.a,Kt.a]);var cn=function(){return Object(s.jsx)("div",{className:"wrapper-swaper",children:Object(s.jsxs)(Yt.a,{className:"container-swaper",autoHeight:!0,centeredSlides:!0,loop:!0,spaceBetween:10,slidesPerView:1,onSlideChange:function(){return console.log("slide change")},onSwiper:function(e){return console.log(e)},navigation:!0,autoplay:{delay:2e3},pagination:{clickable:!0},children:[Object(s.jsxs)($t.a,{className:"swiper-slide",children:[Object(s.jsx)("img",{src:en}),Object(s.jsx)("div",{children:"\u0411\u0435\u0433\u0443\u0449\u0438\u0439 \u043f\u043e \u043b\u0435\u0437\u0432\u0438\u044e, 1982"})]}),Object(s.jsxs)($t.a,{className:"swiper-slide",children:[Object(s.jsx)("img",{src:tn}),Object(s.jsx)("div",{children:"\u0411\u0435\u0448\u0435\u043d\u044b\u0435 \u043f\u0441\u044b, 1992"})]}),Object(s.jsxs)($t.a,{className:"swiper-slide",children:[Object(s.jsx)("img",{src:nn}),Object(s.jsx)("div",{children:"\u0418\u0447\u0438-\u043a\u0438\u043b\u043b\u0435\u0440, 2001"})]}),Object(s.jsxs)($t.a,{className:"swiper-slide",children:[Object(s.jsx)("img",{src:sn}),Object(s.jsx)("div",{children:"\u041f\u044b\u043b\u0430\u044e\u0449\u0438\u0439, 2018"})]}),Object(s.jsxs)($t.a,{className:"swiper-slide",children:[Object(s.jsx)("img",{src:an}),Object(s.jsx)("div",{children:"\u0414\u0438\u043a\u0430\u044f \u0433\u0440\u0443\u0448\u0430, 2018"})]}),Object(s.jsxs)($t.a,{className:"swiper-slide",children:[Object(s.jsx)("img",{src:rn}),Object(s.jsx)("div",{children:"\u0414\u0440\u0430\u0439\u0432, 2011"})]}),Object(s.jsxs)($t.a,{className:"swiper-slide",children:[Object(s.jsx)("img",{src:on}),Object(s.jsx)("div",{children:"\u041b\u0430-\u041b\u0430-\u041b\u044d\u043d\u0434, 2016"})]})]})})},ln=function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(){return Object(me.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(s.jsxs)("div",{className:"app-wrapper",children:[Object(s.jsx)(Jt,{}),Object(s.jsx)(ye,{}),Object(s.jsx)("div",{className:"app-wrapper-content",children:Object(s.jsxs)(Se.d,{children:[Object(s.jsx)(Se.b,{exact:!0,path:"/",render:function(){return Object(s.jsx)(cn,{})}}),Object(s.jsx)(Se.b,{path:"/profile/:userId?",render:function(){return Object(s.jsx)(zt,{})}}),Object(s.jsx)(Se.b,{path:"/dialogs",render:function(){return Object(s.jsx)(We,{})}}),Object(s.jsx)(Se.b,{path:"/users",render:function(){return Object(s.jsx)(gt,{})}}),Object(s.jsx)(Se.b,{path:"/login",render:function(){return Object(s.jsx)(Zt,{})}}),Object(s.jsx)(Se.b,{path:"/main",render:function(){return Object(s.jsx)(cn,{})}}),Object(s.jsx)(Se.b,{path:"*",render:function(){return Object(s.jsx)("div",{children:"404 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})}})]})}),Object(s.jsx)(Ce,{})]}):Object(s.jsx)(ut,{})}}]),n}(fe.a.Component),un=Object(a.d)(Se.g,Object(De.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(S());Promise.all([t]).then((function(){e({type:oe})}))}}}))(ln);n(298);Oe.a.render(Object(s.jsx)(Ne.a,{children:Object(s.jsx)(De.a,{store:je,children:Object(s.jsx)(un,{})})}),document.getElementById("root")),be()},33:function(e,t,n){e.exports={nav:"Nav_nav__2_PeI",item:"Nav_item__2wA2o",activeLink:"Nav_activeLink__2KeCR"}},45:function(e,t,n){e.exports={header:"Header_header__nUBLL",logoBlock:"Header_logoBlock__3QPH-",headerH1:"Header_headerH1__1_P76",loginBlock:"Header_loginBlock__3u9A9",buttonLogin:"Header_buttonLogin__3HEC-"}},75:function(e,t,n){e.exports={statusBlock:"Profile_statusBlock__2Q7zH"}},78:function(e,t,n){e.exports={paginator:"Paginator_paginator__40pn_",pageNumber:"Paginator_pageNumber__2thv8",selectedPage:"Paginator_selectedPage__lGZ5B"}},79:function(e,t,n){e.exports={myposts:"MyPosts_myposts__1aHf9",posts:"MyPosts_posts__FmLjA",form:"MyPosts_form__3CiVp"}},80:function(e,t,n){e.exports={post:"Post_post__2LZvB",postText:"Post_postText__1otaN",postLike:"Post_postLike__1AZo2"}}},[[299,1,2]]]);
//# sourceMappingURL=main.d10ea6e0.chunk.js.map